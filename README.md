# PhytoDiscover: A Full-Stack Platform for Spectral Analysis

PhytoDiscover is a web-based platform designed to accelerate the discovery of known and novel chemical compounds from mass spectrometry data. It provides an interactive interface to screen complex samples against curated spectral libraries, enabling rapid identification of molecules of interest in various domains.

---

## Project Structure

The project is organized into a modular structure to ensure separation of concerns, making it scalable and easy to maintain.

```
PhytoDiscover/
├── webapp/               # The primary full-stack web application
│   ├── backend/          # FastAPI backend server
│   └── frontend/         # Next.js frontend user interface
├── cli/                  # Original command-line tools for advanced/automated use
├── phyto_discover_core/  # Shared Python logic for the core scientific engine
├── data/                 # Holds all data files (e.g., .mzML samples, .db libraries)
├── reports/              # Default output directory for generated reports and plots
├── .gitignore            # Specifies files for Git to ignore
├── README.md             # This documentation file
└── requirements.txt      # Python dependencies for the backend and core engine
```

-   **`webapp/`**: The main entry point for most users. It contains the user-friendly web interface and the API that powers it.
-   **`cli/`**: For advanced users or for integrating PhytoDiscover into automated bioinformatics pipelines.
-   **`phyto_discover_core/`**: The "brain" of the project. Contains the reusable Python scripts for database management and spectral similarity searching. Both the `webapp` and `cli` use this core logic.
-   **`data/`**: All input data resides here. To add a new sample for analysis, simply place the `.mzML` file in this directory.
-   **`reports/`**: Any files generated by the application (like CSV reports) will be saved here.

---

## How to Run the Web Application

It is highly recommended to use a virtual environment for the Python backend.

### 1. Backend Setup (Run this first!)

```bash
# Navigate to the backend directory
cd webapp/backend

# Create and activate a virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install Python dependencies from the root directory's requirements file
pip install -r ../../requirements.txt

# Start the backend server
uvicorn main:app --reload --port 8001
```
The backend API will now be running at `http://localhost:8001`.

### 2. Frontend Setup

Open a **new terminal window** for this step.

```bash
# Navigate to the frontend directory
cd webapp/frontend

# Install Node.js dependencies
npm install

# Start the frontend development server
npm run dev
```
The web application will now be accessible at `http://localhost:3000`.

---

## How to Use the Web App

1.  **Open your browser** and navigate to `http://localhost:3000`.
2.  **Select an Analysis Module:** Use the radio buttons to choose between "Clinical Diagnostics," "Food Safety," or "Forensic Toxicology."
3.  **Enter a Compound Name:** Type the name of a compound you want to search for (e.g., `Aspirin`).
4.  **Select a Sample File:** The dropdown menu is automatically populated with available `.mzML` files from the `/data` directory.
5.  **Click Search:** The results from the analysis will appear in a table below the form.

---

### Background and Inspiration

This project was inspired by the principles outlined in the work on **DreaMS (Deep Representations Empowering the Annotation of Mass Spectra)**. The core concept is that molecules can be identified and compared based on their unique mass spectral "fingerprints." While PhytoDiscover does not implement the same self-supervised AI model, it applies the foundational idea of spectral similarity searching to create a practical, library-based framework for identifying known compounds and discovering novel, structurally related molecules.
